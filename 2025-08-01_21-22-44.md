- I may have just realised why the robot is seeming to vibrate in simulation. Many links contact in two other links but are not connected in the kinematic tree by two joints. e.g. the back case of the robot ony has a fixed link to the front case, but is also designed to mate with two racks inside - by design these mate flush with the back case which means that contact computations would be run continuously and potentially generate vibrational forces.
- This did not seem to fix the problem -_-
- 10x the default solver ref timestep to 0.1 seems to make things stable - no jitter, but other things are still off - like some shallow penetration of self-collision, and featherweight-looking gravity
- I don't really want to start playing around with the solver parameters because its going to make the system less likely to work for future robots that may need other tuning, but it might be the best solution for now. Tough to do because you have so many params to tune.
- Thinking about it, I may have implemented a lot of code that would have had no additional effect other than changing the solver parameters solref and solimp
- There's also another different path to go down without tuning the solver parameters, which is instead implementing joint limits. This assumes that the robot won't get into positions where joints could collide despite joint limits e.g. foot-foot. But perhaps you could implement more limited and focused collision prevention this way. 
- I really thought excluding contact from all physically touching but not urdf-jointed links was the cause of the vibration. Either I was mistaken, or my implementation is incorrect. (e.g. fibula and tibia have urdf joints at knee, but only one is needed at ankle because other is redundant). quick test: does vibration occur if the robot is floating? Yes, it does, but not when the solver is tuned. If i could figure out what joints are causing this vibration.
- Although not ideal, another approach would be to scale down the collision meshes by say 1% to remove the contact